<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Microstock Keyword Generator (Groq AI)</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    padding: 20px;
}
.container {
    max-width: 800px;
    margin: auto;
    background: #fff;
    padding: 20px;
    border-radius: 8px;
}
h1 {
    margin-bottom: 10px;
}
input, textarea, button {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
}
textarea {
    height: 150px;
}
button {
    background: #007bff;
    color: white;
    border: none;
    cursor: pointer;
}
button:hover {
    background: #0056b3;
}
.output {
    height: 300px;
}
</style>
</head>
<body>

<div class="container">
    <h1>Microstock Keyword Generator</h1>
    <p>Groq AI | 50 Title â†’ 50 Keyword Set</p>

    <input type="password" id="apiKey" placeholder="Masukkan Groq API Key">

    <textarea id="titles" placeholder="Masukkan hingga 50 title (1 title per baris)"></textarea>

    <button onclick="generateKeywords()">Generate Keywords</button>

    <textarea id="output" class="output" placeholder="Hasil keyword akan muncul di sini"></textarea>

    <button onclick="copyResult()">Copy Keywords</button>
</div>

<script>
async function generateKeywords() {
    const apiKey = document.getElementById("apiKey").value.trim();
    const titles = document.getElementById("titles").value.trim().split("\n");
    const outputBox = document.getElementById("output");

    if (!apiKey || titles.length === 0) {
        alert("API Key dan title tidak boleh kosong!");
        return;
    }

    outputBox.value = "Processing...\n\n";

    let finalOutput = "";

    for (let i = 0; i < titles.length && i < 50; i++) {
        const title = titles[i].trim();
        if (!title) continue;

        const prompt = `
Generate 40 single-word microstock keywords.
Rules:
- One word only per keyword
- Separated by comma
- Relevant to title
- No numbering

Title: ${title}
`;

        const response = await fetch("https://api.groq.com/openai/v1/chat/completions", {
            method: "POST",
            headers: {
                "Authorization": `Bearer ${apiKey}`,
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                model: "llama3-70b-8192",
                messages: [
                    { role: "user", content: prompt }
                ],
                temperature: 0.7
            })
        });

        const data = await response.json();
        const keywords = data.choices[0].message.content.trim();

        finalOutput += `Keyword Title ${i + 1} (${title}):\n${keywords}\n\n`;
        outputBox.value = finalOutput;
    }
}

function copyResult() {
    const output = document.getElementById("output");
    output.select();
    document.execCommand("copy");
    alert("Keywords berhasil dicopy!");
}
</script>

</body>
</html>
